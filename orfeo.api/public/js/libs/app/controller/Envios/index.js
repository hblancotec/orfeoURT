/*
 * File: app/controller/Envios/index.js
 *
 * This file was generated by Sencha Architect
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 5.0.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 5.0.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('ExtMVC.controller.Envios.index', {
    extend: 'Ext.app.Controller',

    constructor: function(cfg) {
        cfg = cfg || {};
        this.callParent(this.processEnviosindex(cfg));
    },

    control: {
        "#itmMenuEnviosNormal": {
            click: 'onItmMenuEnviosNormal'
        },
        "#itmMenuEnviosModificacionRegistros": {
            click: 'onItmMenuEnviosModificacionRegistros'
        },
        "#itmMenuEnviosFax": {
            click: 'onItmMenuEnviosFax'
        },
        "#itmGeneraPlanillaGuias": {
            click: 'onItmGeneraPlanillaGuias'
        },
        "#itmCargarGuias": {
            click: 'onItmCargarGuias'
        },
        "#itmMenuEnviosExcedeTiempoEspera": {
            click: 'onItmMenuEnviosExcedeTiempoEspera'
        },
        "#itmMenuEnviosOtrasDevoluciones": {
            click: 'onItmMenuEnviosOtrasDevoluciones'
        },
        "#itmMenuEnviosAnularRadicados": {
            click: 'onItmMenuEnviosAnularRadicados'
        },
        "#itmMenuEnviosReporteEnvioCorreo": {
            click: 'onItmMenuEnviosReporteEnvioCorreo'
        },
        "#itmMenuEnviosReporteDevoluciones": {
            click: 'onItmMenuEnviosReporteDevoluciones'
        },
        "#itmMenuEnviosReporteAnulaciones": {
            click: 'onItmMenuEnviosReporteAnulaciones'
        }
    },

    processEnviosindex: function(config) {
        return config;
    },

    onItmMenuEnviosNormal: function(item, e, eOpts) {
        var tmpPanel = Ext.getCmp('panelCuerpoEnvios');
        tmpPanel.removeAll();
        //var tmp = Ext.create('ExtMVC.view.Envios.PanelEnviosNormal');
        var tmp = Ext.widget('enviospanelenviosnormal');
        tmpPanel.add(tmp);
    },

    onItmMenuEnviosModificacionRegistros: function(item, e, eOpts) {
        this.embeberIframeEnvios(0);
    },

    onItmMenuEnviosFax: function(item, e, eOpts) {
        this.embeberIframeEnvios(1);
    },

    onItmGeneraPlanillaGuias: function(item, e, eOpts) {
        this.embeberIframeEnvios(2);
    },

    onItmCargarGuias: function(item, e, eOpts) {
        this.embeberIframeEnvios(3);
    },

    onItmMenuEnviosExcedeTiempoEspera: function(item, e, eOpts) {
        this.embeberIframeEnvios(4);
    },

    onItmMenuEnviosOtrasDevoluciones: function(item, e, eOpts) {
        this.embeberIframeEnvios(5);
    },

    onItmMenuEnviosAnularRadicados: function(item, e, eOpts) {
        this.embeberIframeEnvios(6);
    },

    onItmMenuEnviosReporteEnvioCorreo: function(item, e, eOpts) {
        this.embeberIframeEnvios(7);
    },

    onItmMenuEnviosReporteDevoluciones: function(item, e, eOpts) {
        this.embeberIframeEnvios(8);
    },

    onItmMenuEnviosReporteAnulaciones: function(item, e, eOpts) {
        this.embeberIframeEnvios(9);
    },

    embeberIframeEnvios: function(opc) {
        var enlacesIframeEnvios = [
                params.SERVIDOR+"/envios/cuerpoModifEnvio.php?&estado_sal=4&estado_sal_max=4&devolucion=3&krd="+params.krd,
                params.SERVIDOR+"/envios/cuerpoEnviofax.php?krd="+params.krd,
                params.SERVIDOR+"/radsalida/generar_envio.php?&krd="+params.krd,
                params.SERVIDOR+"/radsalida/cargar_envio.php?&krd="+params.krd,
                params.SERVIDOR+"/devolucion/dev_corresp.php?&estado_sal=4&estado_sal_max=4&krd="+params.krd,
                params.SERVIDOR+"/devolucion/cuerpoDevOtras.php?&estado_sal=4&estado_sal_max=4&devolucion=1&krd="+params.krd,
                params.SERVIDOR+"/anulacion/anularRadicados.php?&estado_sal=4&tpAnulacion=2&krd="+params.krd,
                params.SERVIDOR+"/reportes/generar_estadisticas_envio.php?&estado_sal=4&estado_sal_max=4&krd="+params.krd,
                params.SERVIDOR+"/reportes/generar_estadisticas.php?&estado_sal=4&estado_sal_max=4&krd="+params.krd,
                params.SERVIDOR+"/anulacion/cuerpo_RepAnula.php?&estado_sal=4&tpAnulacion=2&krd="+params.krd
            ];
            var tmpPanel = Ext.getCmp('panelCuerpoEnvios');
            tmpPanel.removeAll();
            var tmp = Ext.create('ExtMVC.view.Envios.PanelIframe');
            var url = '<iframe id="iframeEnvios" width="100%" src="' + enlacesIframeEnvios[opc] + '"></iframe>';
            tmp.update(url);
            tmpPanel.add(tmp);
            tmpPanel.doLayout();
            var iframe = document.getElementById('iframeEnvios');
            iframe.style.height = iframe.parentNode.style.height;
    }

});
